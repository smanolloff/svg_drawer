require 'bundler/setup'
require 'svg_drawer'

res = Rasem::SVGImage.new(width: 600, height: 600)
t = SvgDrawer::Table.new(columns: 3)

t.row do |row|
  row.cell(width: 160, height: 160, border: true) do |cell|
    cell.text_box('this is some text', font: 'Courier New',
                                       font_color: 'red',
                                       font_size: 12,
                                       font_style: ['bold'],
                                       text_align: 'center',
                                       text_valign: 'middle')
  end

  row.cell(width: 160, height: 160, border: true) do |cell|
    cell.line([5,40,140,80], stroke: 'red', size: 6)
  end

  row.cell(width: 160, height: 160, border: true) do |cell|
    cell.circle([80, 80], 30, fill: 'green')
  end
end


t.row do |row|
  row.cell(width: 160, height: 160, border: true) do |cell|
    cell.polyline([10,10,40,120,150,150,10,150,10,10], fill: 'yellow',
                                                       stroke: 'blue',
                                                       size: 4,
                                                       dotspace: 4,
                                                       linecap: 'round')
  end

  row.cell(width: 160, height: 160, border: true) do |cell|
    elem = [20,20,80,40,20,60]
    points = [elem, elem.map { |x| x + 30 }.shuffle]

    cell.multipolyline(points, stroke: 'blue', size: 2)
  end

  row.cell(width: 160, height: 160, border: true) do |cell|
    points = [
      'M189.83,0h-149A40.8,40.8,0,0,0,0,40.79v149a40.8,40.8,0,0,0,40.79,'\
      '40.8h149a40.8,40.8,0,0,0,40.8-40.8v-149A40.79,40.79,0,0,0,189.83,'\
      '0M80.19,43.19a65.56,65.56,0,0,1,88-4.27,5.42,5.42,0,0,1,0,7.6C155'\
      '.64,59.1,94.7,120,83.49,131.24a5.47,5.47,0,0,1-7.8-.4,65.53,65.53'\
      ',0,0,1,4.5-87.65m72.46,139.27a65.53,65.53,0,0,1-87.72,4.46,5.46,5'\
      '.46,0,0,1-.21-7.87l84.59-84.58a5.41,5.41,0,0,1,7.64.07,65.53,65.5'\
      '3,0,0,1-4.31,87.91',
      'M306.14,138.39c-5.62,0-10.73,4.94-10.73,10.34a10.61,10.61,0,0,0,2'\
      ',6.15c6.45,9.71,21.08,14.77,32.19,14.77,19,0,39.23-11.93,39.23-34'\
      ',0-23.09-18.48-30.35-33.33-36.21-11.58-4.56-18.68-7.69-18.68-14.5'\
      ',0-5.45,4.36-11,14.1-11a17.7,17.7,0,0,1,14.88,7.74c2.41,3.22,5.19'\
      ',4.87,8.25,4.87a10.69,10.69,0,0,0,10.72-10.37,10.22,10.22,0,0,0-1'\
      '.65-5.75c-6.41-9.91-19.65-16.8-32.2-16.8-17.3,0-34.79,10.75-34.79'\
      ',31.26,0,21.12,17.33,27.87,31.25,33.31,11.14,4.33,20.77,8.09,20.7'\
      '7,17.4,0,6.8-6.37,13.71-18.54,13.71-3.72,0-10.69-.86-15.29-6.5-2.'\
      '45-2.84-5.37-4.43-8.21-4.43',
      'M776.77,53.51h-.59a36.71,36.71,0,0,0-36.65,36.83V133c0,1.23-.12,2'\
      '.47,0,3.68v81.15a10.23,10.23,0,0,0,20.45,0v-53.1c3.89,3.46,10.37,'\
      '5.1,16.2,5.1h.59c20.31,0,35.8-17.58,35.8-37.88V89.32c0-20.34-15.4'\
      '9-35.82-35.8-35.82M792.66,133c0,11.13-7.12,15.88-15.89,15.88h-.59'\
      'c-8.77,0-15.9-4.75-15.9-15.88V90.34a15.89,15.89,0,0,1,15.9-15.88h'\
      '.59a15.88,15.88,0,0,1,15.89,15.88Z',
      'M718.19,63.4a10.18,10.18,0,0,0-20.35,0h-.06v70.29a15.52,15.52,0,0'\
      ',1-15.51,15.51h-.58a15.51,15.51,0,0,1-15.53-15.51V64.08c0-.06,0-.'\
      '14,0-.21s0-.16,0-.22V63.4h0a10.19,10.19,0,0,0-20.35,0h-.08v70.29a'\
      '36,36,0,0,0,36,36h.58a36,36,0,0,0,36-36V63.4Z',
      'M459.12,63.4a10.19,10.19,0,0,0-20.36,0h-.05v70.29a15.52,15.52,0,0'\
      ',1-15.54,15.51h-.56a15.51,15.51,0,0,1-15.51-15.51V64.08c0-.06,0-.'\
      '14,0-.21s0-.16,0-.22V63.4h0a10.19,10.19,0,0,0-20.36,0h-.08v70.29a'\
      '36,36,0,0,0,36,36h.56a36,36,0,0,0,36-36V63.4Z',
      'M568.87,53.65h-.57a35.88,35.88,0,0,0-25.75,10.9,35.87,35.87,0,0,0'\
      '-25.71-10.83h-.56a36,36,0,0,0-36,36V160h.05a10.18,10.18,0,0,0,20.'\
      '35,0h.06V89.69a15.51,15.51,0,0,1,15.52-15.53h.56A15.52,15.52,0,0,'\
      '1,532.35,89c0,.21,0,.4,0,.6v70.3h.05a10.21,10.21,0,0,0,20.41,0h.0'\
      '7V89.69c0-.24,0-.46,0-.68A15.51,15.51,0,0,1,568.31,74.1h.57A15.52'\
      ',15.52,0,0,1,584.4,89.62v69.61c0,.07,0,.13,0,.21s0,.14,0,.22v.25h'\
      '0a10.18,10.18,0,0,0,20.35,0h.09V89.62a36,36,0,0,0-36-36',
      'M859.6,53.59a20.3,20.3,0,1,0,20.29,20.3,20.33,20.33,0,0,0-20.29-2'\
      '0.3m0,35.69A15.36,15.36,0,1,1,875,73.89,15.41,15.41,0,0,1,859.6,8'\
      '9.27',
      'M853.29,66.61a2.1,2.1,0,0,1,2.16-2.16h5.21c3.84,0,6.36,2.35,6.36,'\
      '5.91a5.18,5.18,0,0,1-4.43,5.33l3.76,4.06a2.64,2.64,0,0,1,.9,1.87,'\
      '2.13,2.13,0,0,1-2.22,2,2.23,2.23,0,0,1-2-1.06l-5.31-6.71h-.06v5.4'\
      '6a2.17,2.17,0,1,1-4.33,0Zm4.33,6h2.85a2.1,2.1,0,1,0,0-4.2h-2.85Z'
    ]

    cell.path(points, scale: [0.18, 0.18])
  end
end

t.render(res)
File.write(File.basename(__FILE__, '.rb') + '.svg', res.to_s)
